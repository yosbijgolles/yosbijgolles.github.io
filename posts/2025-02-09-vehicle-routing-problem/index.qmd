---
title: "Vehicle Routing Problem (VRP): Conceptos Básicos"
date: "2025-02-09"
categories: [optimización, VRP, logística]
description: "Introducción al problema de ruteo de vehículos, uno de los problemas más estudiados en optimización combinatoria"
---

## ¿Qué es el Vehicle Routing Problem?

El **Vehicle Routing Problem (VRP)** es un problema de optimización combinatoria que busca determinar las rutas óptimas para una flota de vehículos que deben visitar un conjunto de clientes.

## Formulación Básica

Dado:
- Un depósito central
- Un conjunto de clientes con demandas
- Una flota de vehículos con capacidad limitada

**Objetivo:** Minimizar la distancia total recorrida (o el costo) mientras se satisfacen todas las demandas.

## Variantes del VRP

Existen múltiples variantes según las restricciones:

| Variante | Descripción |
|----------|-------------|
| **CVRP** | Capacitated VRP - vehículos con capacidad limitada |
| **VRPTW** | VRP with Time Windows - ventanas de tiempo para visitas |
| **VRPPD** | VRP with Pickup and Delivery - recolección y entrega |
| **MDVRP** | Multi-Depot VRP - múltiples depósitos |

## Ejemplo Simple con OR-Tools

```python
from ortools.constraint_solver import routing_enums_pb2
from ortools.constraint_solver import pywrapcp

def crear_modelo_datos():
    data = {}
    data['distance_matrix'] = [
        [0, 10, 15, 20],
        [10, 0, 35, 25],
        [15, 35, 0, 30],
        [20, 25, 30, 0],
    ]
    data['num_vehicles'] = 1
    data['depot'] = 0
    return data

data = crear_modelo_datos()
manager = pywrapcp.RoutingIndexManager(
    len(data['distance_matrix']),
    data['num_vehicles'],
    data['depot']
)
routing = pywrapcp.RoutingModel(manager)

# Definir función de costo
def distance_callback(from_index, to_index):
    from_node = manager.IndexToNode(from_index)
    to_node = manager.IndexToNode(to_index)
    return data['distance_matrix'][from_node][to_node]

transit_callback_index = routing.RegisterTransitCallback(distance_callback)
routing.SetArcCostEvaluatorOfAllVehicles(transit_callback_index)

# Resolver
search_parameters = pywrapcp.DefaultRoutingSearchParameters()
solution = routing.SolveWithParameters(search_parameters)
```

## Aplicaciones Reales

- Distribución de paquetería
- Recolección de residuos
- Transporte escolar
- Servicios de emergencia

---

En próximos posts exploraremos algoritmos específicos para resolver el VRP.
